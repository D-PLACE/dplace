<script type="text/javascript">
    $(document).ready(function() {
        $("a.comment-tooltip").tooltip();
        document.title = 'Search â€“ D-PLACE';

    });
</script>

<div class="">
    
    <div class="container">
        <div class="radiolead pull-left" style="margin-top:-15px !important">SEARCH<br>Begin your search by selecting a mode.<br><small>Select additional variables to further refine<br>your search or select reset to start your search over.</small></div>
        <div class="row text-center">
            <div class="btn-group">
                <button ng-repeat="button in buttons"
                        type="button" class="btn radioBack {{button.radioClass}}"
                        ng-model="model.searchParams.selectedButton"
                        ng-click="buttonChanged(button)"
                        btn-radio="button"
                        >
                        <span class="radioLabel">{{ button.name }}</span>
                        <br><span class="badge" ng-show="button.badgeValue()">{{ button.badgeValue() }}</span></button>
            </div>
            <label style="padding-top:20px;">Or search by society name: <input type="text" name="input" ng-model="model.societyQuery">
                <a ng-disabled="!model.societyQuery" href="societies/search={{model.societyQuery}}" target="_self" class="btn btn-primary">Search</a>
            </label> 
        </div>
    </div>
</div>
<div class="container">
    <div class="row basic-search-forms">
        <div ng-if="model.searchParams.selectedButton.value">
        <div class="row">
            <button ng-show="checkIfSelected()" type="button" class="btn btn-info" style="margin-left:20px;" ng-click="showCriteria()">
                {{ searchCriteria }}
            </button>
            </div>
            <div id="selected-criteria" class="hidden col-md-3">
                <div class="selected-scrollable scrollable">
                    <h5 ng-show="searchModel.params.geographicRegions.selectedRegions.length > 0" ><strong>Geographic</strong></h5>
                    <ul class="list-unstyled" style="padding-left:10px;">
                        <li ng-repeat="region in searchModel.params.geographicRegions.selectedRegions">
                        {{ region.name }}<a ng-click="removeFromSearch(region, 'geographic')" style="color:red;"><span class="glyphicon glyphicon-remove"></span></a>
                        </li>
                    </ul>
                    <h5 ng-show="!isEmpty(searchModel.params.languageClassifications.selected)"><strong>Language</strong></h5>
                        <ul class="list-unstyled" style="padding-left:10px;">
                        <li ng-repeat="(family, languages) in searchModel.params.languageClassifications.selected" ng-show="languages.length > 0">
                            {{ family }}
                            <ul>
                                <li ng-repeat="language in languages">
                                    {{ language.name }} <a ng-click="removeFromSearch(language, 'language')" style="color:red;"><span class="glyphicon glyphicon-remove"></span></a>

                                </li>
                            </ul>
                        </li>
                        </ul>
                    <h5 ng-show="!isEmpty(searchModel.params.culturalTraits.selected)"><strong>Culture</strong></h5>
                       <ul class="list-unstyled" style="padding-left:10px;">
                        <li ng-repeat="(variable, codes) in searchModel.params.culturalTraits.selected" ng-show="codes.length > 0">
                            {{ codes.variable_name }}
                            <ul>
                                <li ng-repeat="code in codes">
                                    {{ code.short_description }} <a ng-click="removeFromSearch(code, 'culture')" style="color:red;"><span class="glyphicon glyphicon-remove"></span></a>
                                </li>
                            </ul>
                        </li>
                        </ul>
                    <h5 ng-show="searchModel.params.environmentalData.selectedVariables.length > 0"><strong>Environmental</strong></h5>
                       <ul class="list-unstyled" style="padding-left:10px;">
                        <li ng-repeat="variable in searchModel.params.environmentalData.selectedVariables">
                        {{variable.selectedVariable.name}}<a ng-click="removeFromSearch(variable, 'environmental')" style="color:red;"><span class="glyphicon glyphicon-remove"></span></a>
                        </li>
                        </ul>
                </div>
            </div>
        <div id="search-panel" class="col-md-12">
            <ng-include src="'/static/partials/search/' +  model.searchParams.selectedButton.value + '.html'"></ng-include></div>
    </div>
</div>
