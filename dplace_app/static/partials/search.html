<script type="text/javascript">
    $(document).ready(function() {
        $("a.comment-tooltip").tooltip();
        document.title = 'Search â€“ D-PLACE';
    });
</script>

<div class="">
    
    <div class="container">
        <div class="radiolead pull-left" style="margin-top:-15px !important">SEARCH<br>Begin your search by selecting a mode.<br><small>Select additional variables to further refine<br>your search or select reset to start your search over.</small></div>
        <div class="row text-center">
            <div class="btn-group">
                <button ng-repeat="button in buttons"
                        type="button" class="btn radioBack {{button.radioClass}}"
                        ng-model="model.searchParams.selectedButton"
                        ng-click="buttonChanged(button)"
                        btn-radio="button"
                        >
                        <span class="radioLabel">{{ button.name }}</span>
                        <br><span class="badge" ng-show="button.badgeValue()">{{ button.badgeValue() }}</span></button>
            </div>
            <label style="padding-top:20px;">Or search by society name: <input type="text" name="input" ng-model="model.societyQuery">
                <a ng-disabled="!model.societyQuery" href="societies/search={{model.societyQuery}}" target="_self" class="btn btn-primary">Search</a>
            </label> 
        </div>
    </div>
</div>
<div class="container">
    <div class="row basic-search-forms">
        <div ng-if="model.searchParams.selectedButton.value">
            <div class="col-md-3">
                <h4>Your Search Criteria</h4>

                <div class="scrollable">
                    <b><h5 ng-show="searchModel.params.geographicRegions.selectedRegions.length > 0" >Geographic</h5></b>
                    <ul class="list-unstyled">
                        <li ng-repeat="region in searchModel.params.geographicRegions.selectedRegions">
                        {{ region.name }}<a ng-click="removeFromSearch(region, 'geographic')"><span class="glyphicon glyphicon-remove"></span></a>
                        </li>
                    </ul>
                    <b><h5 ng-show="searchModel.params.languageClassifications.selected.length > 0">Language</h5></b>
                        <ul class="list-unstyled">
                        <li ng-repeat="language in searchModel.params.languageClassifications.selected">
                        {{ language.name }} ({{ language.family.name }})<a ng-click="removeFromSearch(language, 'language')"><span class="glyphicon glyphicon-remove"></span></a>
                        </li>
                        </ul>
                    <b><h5 ng-show="searchModel.params.culturalTraits.selected.length > 0">Culture</h5></b>
                       <ul class="list-unstyled">
                        <li ng-repeat="variable in searchModel.params.culturalTraits.selectedVariables" ng-show="searchModel.params.culturalTraits.selected|formatVariables:variable.id">
                        {{ variable.label }} - {{ variable.name }}
                            <ul>
                                <li ng-repeat="code in searchModel.params.culturalTraits.selected|formatVariables:variable.id">
                                    {{ code.short_description }} <a ng-click="removeFromSearch(code, 'culture')"><span class="glyphicon glyphicon-remove"></span></a>
                                </li>
                            </ul>
                        </li>
                        </ul>
                    <b><h5 ng-show="searchModel.params.environmentalData.selectedVariables.length > 0">Environmental</h5></b>
                       <ul class="list-unstyled">
                        <li ng-repeat="variable in searchModel.params.environmentalData.selectedVariables">
                        {{variable.selectedVariable.name}}<a ng-click="removeFromSearch(variable, 'environmental')"><span class="glyphicon glyphicon-remove"></span></a>
                        </li>
                        </ul>
                </div>
            </div>
        <div class="col-md-9">
            <ng-include src="'/static/partials/search/' +  model.searchParams.selectedButton.value + '.html'"></ng-include></div>
    </div>
</div>
